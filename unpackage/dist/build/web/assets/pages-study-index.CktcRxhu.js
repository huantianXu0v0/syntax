import{r as a,D as e,o as s,f as t,h as l,w as r,F as c,i as o,a as u,j as d,u as n,b as i,l as _,m as f,p as m,e as p}from"./index-izamIF4t.js";import{s as g}from"./store.-x3VDdyk.js";import{P as v}from"./PcNavbar.BqnQAoPn.js";import{P as y}from"./PcFooter.BYFzZ3uH.js";import{F as b}from"./FeedbackFab.9VM6uxy5.js";import{g as k}from"./cloud.DKwZ7jLR.js";import{_ as h}from"./_plugin-vue_export-helper.BCo6x5W8.js";const C=h({__name:"index",setup(h){const C=k("quiz-co"),F=a([]),w=a(!0),x=a({total_answered:0,correct_rate:0,streak_days:0}),j=e((()=>g.userInfo.nickname||g.userInfo.username||"Developer")),A=()=>{f({url:"/pages/record/history"})},D=a=>{const e=["#E0C3FC","#8EC5FC","#FFD6A5","#FFADAD","#CAFFBF"];return e[a%e.length]};return s((()=>{(async()=>{w.value=!0;try{const a=C.getCategoryList(),e=g.hasLogin?C.getUserStats():Promise.resolve({data:{}}),[s,t]=await Promise.all([a,e]);0===s.errCode&&(F.value=s.data),t&&0===t.errCode&&t.data&&(x.value=t.data)}catch(a){console.error(a)}finally{w.value=!1}})()})),(a,e)=>{const s=m,g=o;return u(),t(c,null,[l(g,{class:"study-hub"},{default:r((()=>[l(v),l(g,{class:"container-xl hub-content"},{default:r((()=>[l(g,{class:"hub-header"},{default:r((()=>[l(g,{class:"header-text"},{default:r((()=>[l(s,{class:"greeting"},{default:r((()=>[d("Welcome back, "+n(j.value),1)])),_:1}),l(s,{class:"subtitle"},{default:r((()=>[d("Select a track to start your journey.")])),_:1})])),_:1}),l(g,{class:"stats-row"},{default:r((()=>[l(g,{class:"stat-item clickable",onClick:A},{default:r((()=>[l(s,{class:"val"},{default:r((()=>[d(n(x.value.total_answered||0),1)])),_:1}),l(s,{class:"label"},{default:r((()=>[d("Solved "),l(s,{class:"arrow"},{default:r((()=>[d("â†’")])),_:1})])),_:1})])),_:1}),l(g,{class:"stat-item"},{default:r((()=>[l(s,{class:"val"},{default:r((()=>[d("ðŸ”¥ "+n(x.value.streak_days||0),1)])),_:1}),l(s,{class:"label"},{default:r((()=>[d("Day Streak")])),_:1})])),_:1}),l(g,{class:"stat-item"},{default:r((()=>[l(s,{class:"val success"},{default:r((()=>[d(n(x.value.correct_rate||0)+"%",1)])),_:1}),l(s,{class:"label"},{default:r((()=>[d("Accuracy")])),_:1})])),_:1})])),_:1})])),_:1}),w.value?(u(),i(g,{key:1,class:"loading-box"},{default:r((()=>[d(" Loading Knowledge Matrix... ")])),_:1})):(u(),i(g,{key:0,class:"category-grid"},{default:r((()=>[(u(!0),t(c,null,_(F.value,((a,e)=>(u(),i(g,{class:"cat-card",key:a._id,onClick:e=>(a=>{f({url:`/pages/study/learning-path?id=${a._id}`})})(a)},{default:r((()=>[l(g,{class:"card-icon",style:p({backgroundColor:D(e)})},{default:r((()=>[d(n(a.name.charAt(0)),1)])),_:2},1032,["style"]),l(g,{class:"card-info"},{default:r((()=>[l(s,{class:"cat-name"},{default:r((()=>[d(n(a.name),1)])),_:2},1024),l(s,{class:"cat-desc"},{default:r((()=>[d(n(a.description||"No description available."),1)])),_:2},1024),l(g,{class:"progress-track"},{default:r((()=>[l(g,{class:"progress-bar",style:p({width:(a.progress_percent||0)+"%"})},null,8,["style"])])),_:2},1024),l(s,{class:"progress-text"},{default:r((()=>[d(n(a.progress_percent||0)+"% Completed",1)])),_:2},1024)])),_:2},1024),l(g,{class:"hover-arrow"},{default:r((()=>[d("â†’")])),_:1})])),_:2},1032,["onClick"])))),128))])),_:1}))])),_:1}),l(y)])),_:1}),l(b)],64)}}},[["__scopeId","data-v-1eeab937"]]);export{C as default};
